## 项目说明
## 中小商户美团团券快速核销接入服务
### 项目简介
本项目专为棋牌室、台球厅、健身房、撸猫馆、宠物服务店、羽毛球馆、乒乓球馆、篮球馆等中小商户量身打造，提供便捷且高效的美团团券接入与核销解决方案。直接对接美团官方时，商户面临诸多高门槛限制，如 10 万元的保证金、为自身平台系统申请软件著作权的复杂流程，以及需达到 5 家门店以上的规模要求。而我们的服务以极低的成本，助力中小商户快速接入美团平台，实现无人自助团券核销、自动核销功能，同时支持接入商户自有业务系统完成团券核销。
### 功能特性
#### 低成本接入：无需高额保证金，仅收取极少费用，降低中小商户接入美团的资金门槛，大幅节约运营成本。
#### 无人自助核销：针对各类消费场景，顾客可通过手机等终端自行完成团券核销，无需商户人工干预，节省人力成本。
#### 自动核销：系统智能识别消费信息，自动核销美团团券，避免人工操作失误，简化核销流程，提高核销效率，尤其适用于业务高峰时段。
#### 自定义系统接入：考虑到商户可能已拥有自有会员管理、计费等系统，本服务支持将美团团券核销功能无缝接入，实现数据的统一管理和流通，避免数据孤岛。
### 应用场景
#### 棋牌室：吸引更多美团用户通过团券到店消费，顾客到店后可快速自助核销团券开启棋牌娱乐，提高棋牌室的翻台率。
#### 台球厅：美团用户凭借团券到店畅玩台球，自动核销功能使前台人员专注服务，提升顾客体验，增加顾客复购率。
#### 健身房：新用户使用团券体验课程或设施，无人自助核销为顾客提供便捷，自动核销让工作人员更高效服务，提升健身房口碑。
#### 撸猫馆：客人到店后自行核销团券，快速开启撸猫体验，营造轻松消费氛围，提高客人满意度和复购意愿。
#### 宠物服务店：宠物主人到店后便捷核销美容、寄养或商品团券，服务记录自动同步至自有系统，方便后续服务跟踪。
#### 羽毛球馆：美团用户持团券到店打球，自助核销节省时间，自动核销保障流程顺畅，提高场馆利用率。
#### 乒乓球馆：顾客使用团券到店运动，高效的核销方式提升顾客到店体验，吸引更多新老顾客。
#### 篮球馆：借助团券吸引更多篮球爱好者，自动核销功能减少人工操作，让顾客更专注于运动，提升场馆人气。
### 接入流程
#### 注册申请：商户登录我们的平台，填写详细的店铺信息、联系方式、经营品类等，提交接入申请。
#### 资质审核：专业审核团队对申请信息进行全面审核，确保商户符合接入条件。
#### 系统对接：审核通过后，技术人员与商户沟通，根据商户自有系统情况提供个性化对接方案并完成对接。
#### 测试上线：对接完成后，进行多轮模拟实际消费场景的测试，确保功能稳定正常。测试无误后，服务正式上线。
### 技术支持
#### 我们拥有专业的技术团队，提供 7×24 小时的技术支持。若商户在使用过程中遇到系统故障、操作疑问或数据异常等问题，可随时联系客服，我们将及时响应并解决。
### 联系我们
#### 若您对本服务感兴趣或有疑问，可通过以下方式联系我们：
#### 客服电话：[+86 18618325502]
#### 电子邮箱：[zhouribin@outlook.com]
#### 在线客服：登录我们的平台，点击在线客服图标与客服人员实时沟通。

### 开放平台接口 HOST: http://mtopen.umember.cn
### 开发者后台地址: http://b.umember.cn/render/secret-store-webapp/console
### ⚠️注意所有接口: ContentType: application/json 
### ⚠️注意所有返回 code 10000 为成功 其他为失败
### ⚠️注意 Authorization: token 前面不要带 Bearer
### ⚠️注意所有接口: 一秒并发为2次请求 请勿频繁请求 接口会拦截


## 1:获取auth token 接口

- 请求方式: POST
- 请求地址: /open/login

- 请求参数:

  | 参数名      | 参数说明 | 备注 |
  |----------|------|----|
  | email    | 用户邮箱 | 必填 |
  | password | 用户密码 | 必填 |

- 请求示例:
```json

{
  "email":"zhangsan@126.com",
  "password":"1234"
}

```

- 响应参数:

  | 参数名   | 参数说明    | 备注                   |
  |-------|---------|----------------------|
  | token | 认证token | 用于后续请求头Authorization |

- 响应示例:
```json

{
    "code": 10000,
    "msg": "success",
    "data": {
        "id": 9,
        "phone": "18500511234",
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2V123",
        "username": "张三"
    },
    "count": 1,
    "date_time": "2024-12-15 22:08:24"
}

```

### 2:获取店铺列表接口

- 请求方式: GET
- 请求地址: /open/user/meituan/store/list
- 请求头: Authorization: token
- ⚠️注意 Authorization: token 前面不要带 Bearer
- 请求参数: 无
- 返回参数:

  | 参数名           | 参数说明   | 备注               |
  |---------------|--------|------------------|
  | address       | 地址     |                  |
  | area_id       | 区域id   |                  |
  | city_id       | 城市id   |                  |
  | province_id   | 省份id   |                  |
  | request_count | 剩余请求次数 |                  |
  | status        | 状态     | 1-未授权2-已授权3-授权过期 |
  | store_id      | 店铺id   |                  |
  | store_name    | 店铺名称   |                  |

- 返回示例:
```json

{
  "code": 10000,
  "msg": "success",
  "data": [
    {
      "address": "万达金街5-1079号（万达金街蜜雪冰城旁3楼）",
      "area_id": 330102,
      "city_id": 330100,
      "province_id": 330000,
      "request_count": 9983,
      "status": 2,
      "store_id": 5,
      "store_name": "大声發24小时自助棋牌室"
    }
  ],
  "count": 1,
  "date_time": "2024-12-16 13:04:20"
}

```

## 3:获取在售列表接口

- 请求方式: GET
- 请求地址: /open/user/meituan/coupon/list
- 请求头: Authorization: token
- ⚠️注意 Authorization: token 前面不要带 Bearer
- 请求参数:

  | 参数名      | 参数说明 | 备注 |
  |----------|------|----|
  | store_id | 店铺id | 必填 |

- 请求示例:
- /open/user/meituan/coupon/list?store_id=1

- 响应参数:

  | 参数名           | 参数说明 | 备注 |
  |---------------|------|----|
  | actual_amount | 实际价格 |    |
  | origin_amount | 原价   |    |
  | product_name  | 商品名称 |    |
  | sku_id        | 商品id |    |
  | sku_name      | 商品名称 |    |

- 响应示例
```json

{
  "code": 10000,
  "msg": "success",
  "data": [
    {
      "actual_amount": "78.0",
      "origin_amount": "78.0",
      "product_name": "【开业特惠】通用通宵8小时",
      "sku_id": 1214171234,
      "sku_name": "【开业特惠】通用通宵8小时"
    }
  ],
  "count": 1,
  "date_time": "2024-12-15 23:00:45"
}

```

## 4:获取订单信息接口

- 请求方式: GET
- 请求地址: /open/user/meituan/coupon/detail
- 请求头: Authorization: token
- ⚠️注意 Authorization: token 前面不要带 Bearer
- 请求参数:

  | 参数名         | 参数说明 | 备注 |
  |-------------|------|----|
  | store_id    | 店铺id | 必填 |
  | coupon_code | 券码   | 必填 |

- 请求示例:
- /open/user/meituan/coupon/detail?store_id=1&coupon_code=123456

- 响应参数:

    | 参数名      | 参数说明 | 备注         |
    |----------|------|------------|
    | order_id | 订单id |            |
    | sku_id   | 商品id |            |
    | sku_name | 商品名称 |            |
    | status   | 订单状态 | 中文:未使用 和其他 |

- 响应示例:
```json

{
    "code": 10000,
    "msg": "success",
    "data": {
        "order_id": "4971997871483391234",
        "sku_id": 1206941234,
        "sku_name": "开业特惠通用畅玩4小时[49.00元][1206941234]",
        "status": "未使用"
    },
    "count": 1,
    "date_time": "2024-12-16 00:06:04"
}

```

## 5:核销接口

- 请求方式: POST
- 请求地址: /open/user/meituan/coupon/verify
- 请求头: Authorization: token
- ⚠️注意 Authorization: token 前面不要带 Bearer
- 请求参数:

  | 参数名         | 数据类型   | 参数说明 | 备注 |
  |-------------|--------|------|----|
  | store_id    | int    | 店铺id | 必填 |
  | coupon_code | string | 券码   | 必填 |

- 请求示例:
```json

{
  "store_id":1,
  "coupon_code":"123456"
}

```

- 响应参数:

  | 参数名            | 参数说明 | 备注               |
  |----------------|------|------------------|
  | verify_message | 核销信息 | 核销失败有原因说明        |
  | verify_success | 核销状态 | true:成功 false:失败 |

- 响应示例
```json

{
    "code": 10000,
    "msg": "success",
    "data": {
        "verify_message": "验证成功",
        "verify_success": true
    },
    "count": 1,
    "date_time": "2024-12-16 00:06:04"
}

```
  
